//apply plugin: "eclipse"
//apply plugin: "org.grails.plugins.views-json"
apply plugin: 'codenarc'


//bootRun {
//	jvmArgs('-Dspring.output.ansi.enabled=always')
//	addResources = true
//}

//bootRepackage.enabled = false

//configurations.all {
//    exclude module:'grails-datastore-simple'
//}

dependencies {

    compileOnly "org.springframework:spring-test" //this is for GrailsParameterMapRowMapper that uses the MockHttpServletRequest
    compileOnly "org.springframework.data:spring-data-commons" //:1.12.10.RELEASE

    //used for bundled Test traits
    compileOnly "org.grails:grails-gorm-testing-support"
    compileOnly "org.grails:grails-web-testing-support"

    codenarc 'org.codenarc:CodeNarc:0.27.0'

	//testCompile "org.grails.plugins:geb"
    //testCompile "org.grails:grails-gorm-testing-support"
	//testCompile "org.grails:grails-plugin-testing"
}

codenarc {
	toolVersion = '0.27.0'
	config = project.resources.text.fromString("${commonBuild}/codenarc/rules.groovy".toURL().text)
	reportFormat = 'html'
	//ignoreFailures = true

	maxPriority1Violations = 0
	maxPriority2Violations = 4
	maxPriority3Violations = 8
}

codenarcMain {
	exclude '**/GormScalars.groovy'
}

codenarcTest {
	ignoreFailures = true
}

