apiVersion: v1
kind: ConfigMap
metadata:
  name: ${APP_NAME}-logback
  namespace: ${KUB_NAMESPACE}
  labels:
    app: ${APP_NAME} # tag with the app:demo10, labels are kind of like tags
data:
  logback.groovy: |+
    scan("5 seconds")
    println "#### using kubernetes ${APP_NAME}-config for logback config"
    appender('STDOUT', ConsoleAppender) {
        encoder(PatternLayoutEncoder) {
            charset = java.nio.charset.Charset.forName('UTF-8')
            pattern = '%d{HH:mm:ss.SSS} [%t] %-5level %logger{48} - %msg%n'
        }
    }
    root(ERROR, ['STDOUT'])
    logger("grails.app", INFO, ['STDOUT'], false)
    logger("nine", INFO, ['STDOUT'], false)
